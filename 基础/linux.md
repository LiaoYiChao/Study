### linux系统操作指令

#### 1）基础指令

​	快捷键：ctrl+u 清除终端当前命令 

~~~properties
关机命令：shutdown -h now(正常关机) ， halt(关闭内存 也可以起到关机的作用)

查看命令手册
	man 某个指令

通用事项：
	1）选项都是可以 连在一起使用	
		比如有	-l	-a	可以连起来一起使用 -la 拥有两者的功能
	2）通配符	*
		比如：linux*	匹配所有前面带linux的选项

基础指令：

1）ls (list)
含义：列出当前工作目录下的所有文件/文件夹的名称
	#ls -l 路径
	#ls -a 路径
		选项含义：-l	以详细表展示该路径下的文件
				-a	展示该路径下的隐藏文件
				-lh	以可读性较强的列表展示该路径下的文件
				
2）pwd
含义：打印当前工作目录 or 用户

3）cd
含义：切换当前工作目录的	cd 路径	比如 ../../root

4)mkdir
含义：创建目录	#mkdir 路径
	注意事项：一次只能创建一个目录 且是一层级别 想一次创建多层 需要加上 -p
		比如 mkdir -p root/hello/nihao/ai	加上-p即可一次性创建
		
5）touch
含义：创建文件
	使用方法 类似上 但没有 -p 且创建的是 文件 如 hello.txt
	
6）cp
含义：复制文件/文件夹到指定的位置
	比如：#cp 被复制的文件 复制到的文件位置
		#cp hello.txt hello/world/hello.txt	
			注意一点 后面复制到一个路径的时候 该文件 可以被修改文件名 但一般不使用 用同名
	-r 复制文件夹 结构如上 但被复制的是一个文件夹
		比如：#cp -r 被复制的文件夹 复制到的文件夹路径
		
7）mv指令
含义：移动 or 剪切	---移动文档到新的位置
	比如：#mv 需要移动的文档路径 需要保存到的路径
	
8）rm
含义：删除指令
	如： rm 需要被删除的对象	被删除的时候 需要确认 y 代表是 n代表否 
		但其中有几个可以进行选择
			-f： 强制删除 #rm -f ./hello	不需要经过确认
			-r： 删除路径
			-rf 上两者结合 ：直接删除文件夹和该文件夹下所有
			
9）vim
含义：打开文档编辑器
	如：vim 想打开的文档路径
		退出 在 xshell中 按 esc键 之后 shift+： 之后输入x 代表保存并退出
		或者 shift+zz 或者 大写模式下 两下ZZ 即可退出

10）输出重定向
	一般的输出在终端中显示 但有些时候想要在保存在某一个地方 以便查看
		覆盖输出使用语法：#正常的指令	> 文件路径 	---即可保存在指定的文件路径中
			注意事项：文件可以不存在 存在储存 不存在新建
		追加输出使用语法：#正常的指令	>> 文件路径	---会在该文件中末尾追加该内容
		
11）cat
含义：直接查看文件 不会进入编辑模式
	#cat 文件路径
		扩展使用方法：
			cat可以合并文件(结合10)
				#cat 文件路径1 文件路径2 文件路径n > 覆盖输出文件路径
~~~

#### 2）进阶指令

~~~properties
1)df
查看磁盘空间
	-h 换算空间单位 使之易读性更好
	
2）free
查看内存使用情况
	默认显示以b为单位
	-m：以mb兆为单位显示
	-g：以G为单位显示
	
3）head
查看文件前n行
	#head -n 文件路径	
		-n 可以随意设置一个数字 如-10 显示前10行
		
4)tail
查看文件的后n行
	#tail -n 文件路径
	
	#tail -f 文件路径
		动态显示变化的文件（不能是用户手动添加的）
		
5）less
查看文件	--- #less 文件
	空格键代表翻页 上下键代表翻行
	
6）wc
统计文件内容信息（包含行数 单词书 字节数 ）
-lwc（行数 单词书 字节数）
	#wc -lwc 文件
	
7）date
操作时间日期
	#date		输出年月日 时分秒
	#date +%F	输出年月日(简写)	---	+%Y：年
								%m：月
								%d：日	可以单独使用
								%H：时
								%M：分
								%S：秒
	#date "+%F %T" 输出年月日时分秒	
	
定时任务或者查看以前的
	#date "-1 day" "+%F %T"	显示昨天的
		如果想显示1年前的 把day 改为 yeas 即可	day--天 yeas--年
		如果想设置未来的 把-1 改为 +1 即代表未来
			通过该设置 可以实现定时任务
			
8）cal
查看日历

9）clear or ctrl+L
清除显示 让界面清爽

10）管道( |：管道符)	重要
	|：管道符	---回车键上方
过滤作用：
	比如：#ls /|grep 想过滤的字符
		#ls /| grep L	---查找所有 带L的名称
	作用：类似胶水	前一个命令不能做到的事情 通过两个命令的结合 可以实现
		比如：ls /| wc -l	---产生统计该文件夹下数量的作用
			前者先执行 后者根据前者的结果继续执行
			或者理解为 前者的输入 后者的输入
~~~

#### 3）高级指令

~~~properties
1)hostname
读取和设置主机名	但通常不使用设置 因为设置后 重启之后主机名会恢复原状
	-f

2）id
查看一个用户的基本信息（如用户id，用户组id，附加组id）
	后面可以指定用户 #id 指定的用户
		如果不指定用户 默认当前用户
		
3）whoami
显示当前登陆的用户名
	主要用于 shell脚本 打印日志
	
4）ps -ef
查看服务器的进程信息
	-e：列出全部的进程
	-f：显示全字段（如默认显示3个 比如 进程name 进程pic 加上显示全部的列）
	-ef：上两者结合
		与管道符结合删选查询
			ps -ef |grup 删选的进程名称
			
5）top
查看服务器进程占用资源情况

6）du -sh
查看目录的真实大小
	-s：显示汇总的大小
	-h：以较高可读性的大小进行显示 如 兆显示 G显示等
	
7）find
用于查找文件
	#find 搜索的路径范围 选项 选项的值
		-name：按照文件名称搜索（支持模糊搜索）
		-type：按照文件类型搜索
			“-”表示文件（在find中需要用f替换）   “d”表示文件夹
			
8）service
用于控制一些软件的服务启动/停止/重启
	#service 服务名 start/stop/restart
	
9)kill
结束进程：#kill PID(是一个id)
	killall：结束进程 #killall 进程名称

10）ifconfig
获取网卡信息

11）reboot
重新启动计算机
	-w：模拟重启 一般用于测试 使用
	
12）shutdown
关机
	-h 时间 --定时关机 如 shutdown -h 12：00 “12点关机”
		可以写一些注释

13）uptime
开机到现在的运行时间

14）uname
获取计算机操作系统相关信息
	-a	获取全部信息
	
15）netstat -tnlp
查看网络连接状态

16）man
linux手册
	#man 指令
	
17）systemctl start 软件名	---开启该软件
~~~



![1547201459376](C:\Users\Administrator.ETOSS4S9LE39TEM\AppData\Roaming\Typora\typora-user-images\1547201459376.png) 

#### 4）vim编辑器操作

##### 	编辑模式

~~~prop

打开操作
	1）vim 文件路径
		vim +行数	文件路径	---打开会定位到指定行位置
		vim +关键词 文件路径	---打开会定位到第一个关键字位置
		vim 文件路径 文件路径 文件路径	---打开多个文件
		
	快捷键操作
	1）光标操作
		光标移至行首 shift+6
		光标移至行尾 shift+4
		
		向上翻屏 ctrl + b
		向上翻屏 ctrl + f
		
	2）复制操作
		1）复制光标所在行：yy
		   以光标所在行为准 向下复制指定行：数字yy
		   可视化复制：ctrl + v 上下左右选择需要复制的内容
		   
		2）粘贴：p
		
	3）删除操作
		1）剪切/删除	dd 删除之后下一行上移 	---如果剪切了 没有粘贴 等同于删除
			剪切/删除 D 删除之后下一行不会上移 会空出
			
	4）撤销/恢复操作
		撤销之前操作：u
		恢复(取消)之前的操作：ctrl + r
~~~

##### 末行模式

~~~properties
进入方式：
	由命令模式进入 按下“：”即可进入
退出方式：
	a.按下esc 退出会有延迟
	b.按两下esc 立即退出

1）保存操作
	输入：“w”	---保存文件
	输入：“w 路径”	---另存为
	
2）退出
	输入：“：q”  	---退出文件
	输入：“：wq”	---保存并退出
	输入：“：q！”	---强制退出

3）在末行模式中输入外部命令
	！外部命令	即可执行
		之后按任意键退出 回到原文档中

4）搜索/查找
	关键字搜索：	/ 关键字	---查找关键字上/下结果	N/n
								取消高亮	--- :nohl
								
5）替换
	s/关键字/新的内容		---替换光标所在的第一个关键字内容
	s/关键字/新的内容/g		---替换光标所在行所有关键字内容
	%s/关键字/新的内容		---替换整个文档中每行第一个符合条件的内容
	%s/关键字/新的内容/g		---替换整个文档中所有符合条件的内容
	
6）显示行号
	:set nu		---行号显示
	:set nonu	---取消行号显示
	
	
~~~



##### 实用功能

​	1）代码着色

​		syntax off 关闭	syntax on 开启



##### ​vim全局配置

​		优先级 个人配置 > 全局配置

​	1）个人配置

​		~/.vimrc	---家目录下的隐藏文件 有使用 没有创建即可	作用在该文件中设置的属性 会在全部文件中应用

​	2）全局配置

​		/etc/vimrc	---全局配置 在etc文件中 不是隐藏文件



##### 别名设置

​	作用：使用一个自身熟悉的名称 代替某个指令的名称 但是具有该指令的效果

​		在 ~/.bashrc	家目录下的隐藏文件 .bashrc

​	注意事项：

​		想要其生效 需要重启 或者 注销该用户后 重新登陆 才能生效



**其他**：

​	设置init 进程级别

​		init 3 代表进入命令行级别

​		init 5 代表进入图形化级别

永久设置 在   /etc/inittab	中设置



#### 5）用户管理设置

​	注意三个文件：

​		/etc/passwd		--- 存储用户(主组)的关键信息

​		/etc/group		---存储用户组(附加组)的关键信息

​		/etc/shadow		---存储用户密码信息



![1547383818956](C:\Users\Administrator.ETOSS4S9LE39TEM\AppData\Roaming\Typora\typora-user-images\1547383818956.png)

上图片解释：/etc/passwd

​	用户名：密码：用户ID：用户组ID：注释：家目录：解释器 shell

用户名：创建新用户名称

密码：此密码位置一般情况都是 x  表示密码的占位

用户ID：用户的识别符

用户组ID：该用户所属的主组ID

注释：解释该用户是做什么用的

家目录：用户登陆进入系统之后默认的位置

解释器shell：等待用户进入系统之后 用户输入指令之后 该解释器会收集用户输入的指令 传递给内核处理

​	

1）用户管理

​	**添加用户**：#useradd 选项 用户名

​		常用选项：-g：表示指定用户的用户组，选项值可以为用户组id，也可以为用户组名称

​					-G：指定用户附加组

​					-u：用户的id（用户的标识符）

​					-c：添加注释

​		注意事项：如果不添加任何选项进行添加用户

​			a.创建同名的家目录

​			b.创建同名的用户组

​	**修改用户**：usermod 选项 用户名

​			常用选项：-g：表示指定用户的用户组，选项值可以为用户组id，也可以为用户组名称

​					-G：指定用户附加组

​					-u：用户的id（用户的标识符）

​					-l：修改用户名 -l      ---被改的用户名 想改的用户名

​	

​	**切换用户命令**:#su 用户名	如果用户名不指定 则为超级管理员



​	**设置用户密码**：#passwd 用户名

​		linux 不允许没有密码的账号进行登陆系统



​	**删除用户**：#userdel 选项 用户名

​		常用选项：

​			-r 表示删除用户的同时 删除家目录

​				注意事项：已经登陆的用户 无法删除 

​					解决方法：kill 掉用户的进程



#### 6）用户组管理

​	**用户组添加**：#groupadd 选项 用户组名

​		常用选项：

​			-g：设置一个自定义的用户组的ID数字

​	

​	**用户组编辑**：#groupmod 选项 用户组名

​		常用选项：

​			-g：修改用户组ID

​			-n：修改用户组名称



​	**用户组删除**：#groupdel 用户组名

​		注意事项：如果该组 是一个用户的主组 无法删除 除非把该组中的用户移出 才能删除 可以使用 usermod -g 进行组重置



#### 7）网络设置

​	网络设置相关文件位置：/etc/sysconfig/network-scripts/



​	重启网卡两种方法：

​		1）#service network restart	--- 全部重启

​		2）# /etc/init.d/network restart	---全部重启

​			停止某个网卡 #ifdown 网卡名

​			开启某个网卡 #ifup 网卡名

​	扩展 很多文件目录很深 

​		可以使用 ls -n 原始文件路径 快捷方式路径

​		比如 ls -n /etc/sysconfig/network-scripts/ifcfg-eth0 ~/ifcgf-eth0

​			代表在 家目录下创建了一个快捷方式 ifcfg-eth0 指向前路径



#### 8）SSH设置

​	配置文件位置 ： /etc/ssh/ssh

​		服务启动/停止/重启：service sshd(SSH服务进程名称) start/stop/restart